version: 2

exposures:

  - name: imperator_dashboard
    type: dashboard
    maturity: high
    url: https://www.muellimperium.com/dashboard
    description: >
      Dashboard f√ºr den Imperator.

    depends_on:
      - ref('email_providers_usage')

    owner:
      name: Imperator
      email: imperator@muellimperium.com

models:
  - name: email_providers_usage
    tables:
      - name: email_providers_usage
        columns:
          - name: email_provider
            tests:
              - dbt_expectations.expect_column_to_exist
              - not_null
              - dbt_expectations.expect_column_values_to_be_of_type:
                column_type: string
          - name: email_address_count
            tests:
              - dbt_expectations.expect_column_to_exist
              - not_null
              - dbt_expectations.expect_column_values_to_be_of_type:
                column_type: integer
        tests:
          - dbt_expectations.expect_table_row_count_to_be_between:
              min_value: 1
              max_value: 20