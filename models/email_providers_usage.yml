version: 2
models:
  - name: email_providers_usage
    columns:
      - name: email_provider
        tests:
          - dbt_expectations.expect_column_to_exist
          - not_null
          - unique
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: text
      - name: email_address_count
        tests:
          - dbt_expectations.expect_column_to_exist
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
          - dbt_expectations.expect_column_values_to_be_between:
              min_value: 10
    tests:
      - dbt_expectations.expect_table_row_count_to_be_between:
          min_value: 1
          max_value: 20
